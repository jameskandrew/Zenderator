<?php

use Gone\AppCore\Router\RouteSDKProperties;
use {{ class.namespace }}\Models;
use Gone\AppCore\QueryBuilder\Query;

// Router proper begins
return [ Models\{{ class.name }}Model::NAME_SINGULAR => [
        "getAll" => RouteSDKProperties::Factory()
                    ->setResponseClass(Models\{{ class.name }}Model::class)
                    ->setClass(Models\{{ class.name }}Model::NAME_SINGULAR)
                    ->setFunction('getAll')
                    ->setReturnsArray(true)
                    ->setArguments([
                        "query" => [
                            "default" => null,
                            "description" => "Query object with rules to filter the list results by",
                            "in" => "header",
                            "required" => false,
                            "type" => Query::class,
                        ],
                        "fields" => [
                            "default" => null,
                            "description" => "Array of fields you want returned",
                            "in" => "header",
                            "required" => false,
                            "type" => "array",
                            "cancelHydrate" => true,
                        ],
                    ])->__toArray(),
    "create" => RouteSDKProperties::Factory()
                    ->setResponseClass(Models\{{ class.name }}Model::class)
                    ->setClass(Models\{{ class.name }}Model::NAME_SINGULAR)
                    ->setFunction('create')
                    ->setArguments([
                        "body" => [
                            "default" => null,
                            "description" => "Array of data to use tor create the model",
                            "in" => "body",
                            "required" => true,
                            "type" => Models\{{ class.name }}Model::NAME_SINGULAR . "[]",
                            "subType" => \Gone\SDK\Common\Abstracts\AbstractModel::class,
                            "format" => "full",
                        ],
                    ])->__toArray(),
{% if "Validtors" in config.templates %}
    "validate" => RouteSDKProperties::Factory()
                    ->setResponseClass(Models\{{ class.name }}Model::class)
                    ->setClass(Models\{{ class.name }}Model::NAME_SINGULAR)
                    ->setFunction('validate')
                    ->setArguments([
                        "body" => [
                            "default" => null,
                            "description" => "Array of data to use tor create the model",
                            "in" => "body",
                            "required" => true,
                            "type" => Models\{{ class.name }}Model::NAME_SINGULAR . "[]",
                            "subType" => \Gone\SDK\Common\Abstracts\AbstractModel::class,
                            "format" => "full",
                        ],
                        "scenario" => [
                            "default" => null,
                            "description" => "Array of scenarios to use",
                            "in" => "header",
                            "required" => false,
                            "type" => "[]",
                        ],
                    ])->__toArray(),
{% endif %}
{#    "createBulk" => RouteSDKProperties::Factory()
                    ->setResponseClass(Models\{{ class.name }}Model::class)
                    ->setClass(Models\{{ class.name }}Model::NAME_SINGULAR)
                    ->setFunction('createBulk')
                    ->setReturnsArray(true)
                    ->setArguments([
                        "body" => [
                            "default" => null,
                            "description" => "Array of data to use tor create the model",
                            "in" => "body",
                            "required" => true,
                            "type" => \{{ class.namespace }}\Models\{{ class.name }}Model::NAME_SINGULAR . "[][]",
                        ],
                    ])->__toArray(),#}
    "update" => RouteSDKProperties::Factory()
                    ->setResponseClass(Models\{{ class.name }}Model::class)
                    ->setClass(Models\{{ class.name }}Model::NAME_SINGULAR)
                    ->setFunction('update')
                    ->setArguments([
{% for key in class.routePKs %}
                        "{{ key }}" => [
                            "default" => null,
                            "description" => "Primary key for model",
                            "in" => "query",
                            "required" => true,
                            "type" => "{{ class.properties[key].phpType }}",
                        ],
{% endfor %}
                        "body" => [
                            "default" => null,
                            "description" => "Array of data to use to create the model",
                            "in" => "body",
                            "required" => true,
                            "type" => Models\{{ class.name }}Model::NAME_SINGULAR . "[]",
                            "subType" => \Gone\SDK\Common\Abstracts\AbstractModel::class,
                            "format" => "diff",
                        ],
                    ])->__toArray(),
    "get" => RouteSDKProperties::Factory()
                    ->setResponseClass(Models\{{ class.name }}Model::class)
                    ->setClass(Models\{{ class.name }}Model::NAME_SINGULAR)
                    ->setFunction('get')
                    ->setArguments([
{% for key in class.routePKs %}
                        "{{ key }}" => [
                            "default" => null,
                            "description" => "Primary key for model",
                            "in" => "query",
                            "required" => true,
                            "type" => "{{ class.properties[key].phpType }}",
                        ],
{% endfor %}
                    ])->__toArray(),
{% for related in class.relatedData %}
{% if loop.first %}
    //Related Data
{% endif %}
{% for field in related.fields %}
    "get{{ field.related.variableUC }}" => RouteSDKProperties::Factory()
                    ->setClass(Models\{{ class.name }}Model::NAME_SINGULAR)
                    ->setFunction('get{{ field.related.variableUC }}')
                    ->setResponseClass(Models\{{ related.class.name }}Model::class)
                    ->setArguments([
{% for key in class.routePKs %}
                        "{{ key }}" => [
                            "default" => null,
                            "description" => "Primary key for model",
                            "in" => "query",
                            "required" => true,
                            "type" => "{{ class.properties[key].phpType }}",
                        ],
{% endfor %}
                    ])->__toArray(),
{% endfor %}
{% endfor %}
{% for remote in class.remoteData %}
{% if loop.first %}
    //Remote Data
{% endif %}
{% for field in remote.fields %}
    "get{{ field.remote.variablePluralUC }}" => RouteSDKProperties::Factory()
                    ->setClass(Models\{{ class.name }}Model::NAME_SINGULAR)
                    ->setFunction('get{{ field.remote.variablePluralUC }}')
                    ->setReturnsArray(true)
                    ->setResponseClass(Models\{{ remote.class.name }}Model::class)
                    ->setArguments([
{% for key in class.routePKs %}
                        "{{ key }}" => [
                            "default" => null,
                            "description" => "Primary key for model",
                            "in" => "query",
                            "required" => true,
                            "type" => "{{ class.properties[key].phpType }}",
                        ],
{% endfor %}
                        "query" => [
                            "default" => null,
                            "description" => "Query object with rules to filter the list results by",
                            "in" => "header",
                            "required" => false,
                            "type" => Query::class,
                        ],
                    ])->__toArray(),
{% endfor %}
{% endfor %}
]];


