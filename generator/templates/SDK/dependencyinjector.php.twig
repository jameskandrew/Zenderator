<?php
namespace {{ classNamespace }};

use Slim\Container;

class DependencyInjector
{
    public static function Setup(Container $container,$config = []) {

        $container[Client::class] = function(Container $container) use ($config) {
            $client = new Client($config["baseUrl"] ?? Client::DEFAULT_BASE_URL,$config["extraHeaders"] ?? []);
            return $client;
        };

{% for accessLayer in accessLayers|sort %}
        $container[AccessLayer\{{ accessLayer }}AccessLayer::class] = function(Container $container) {
            return new AccessLayer\{{ accessLayer }}AccessLayer($container->get(Client::class)->getGuzzle());
        };
{% endfor %}

    }
}
