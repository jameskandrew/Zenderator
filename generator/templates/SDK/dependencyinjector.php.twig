<?php
namespace {{ app_namespace }}\SDK\{{ app_name }};

class DependencyInjector
{
    public static function Setup($container,$config = []) {

        $container[Client::class] = function($container) use ($config) {
            $client = new Client($config["baseUrl"] ?? self::DEFAULT_BASE_URL,$config["extraHeaders"] ?? []);
            return $client;
        };

{% for pack in packs|keys %}
        $container[AccessLayer\{{ pack }}AccessLayer::class] = function($container) {
            return new AccessLayer\{{ pack }}AccessLayer($container->get(Client::class)->getGuzzle());
        };
{% endfor %}

    }
}
